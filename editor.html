<!DOCTYPE HTML>
<html>
	<head>
		<title>简易富文本编辑器</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css"/>
		<style type="text/css">	
			.editor{
				width: 600px;
				height: 480px;
				border: 1px solid #CCCCCC;
				overflow: auto;
			}	
			body{
				margin: 5px;
			}	
			
			img{
				display: block;
				margin: 0 auto;
				width: 90%;
			}
			
			.color-rect{
				width: 16px;
				height: 16px;
				margin: 2px;
				border: 1px solid #CCCCCC;
			}
		</style>
	</head>

	<body>
		<div class="btn-toolbar" role="toolbar">
			<div class="btn-group btn-group-xs" role="group">
			    <button type="button" class="btn btn-default" onclick="getContentHtml()"><span class="glyphicon glyphicon-align-justify"></span></button>
			</div>
			<div class="btn-group btn-group-xs" role="group">
			    <button type="button" class="btn btn-default" onclick="setJustifyLeft()"><span class="glyphicon glyphicon-align-left"></span></button>
			    <button type="button" class="btn btn-default" onclick="setJustifyCenter()"><span class="glyphicon glyphicon-align-center"></spn></button>
			    <button type="button" class="btn btn-default" onclick="setJustifyRight()"><span class="glyphicon glyphicon-align-right"></spn></button>
			</div>
			<div class="btn-group btn-group-xs" role="group">
				<div class="btn-group btn-group-xs" role="group">
					<div class="btn-group btn-group-xs" role="group">
					    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					        <span class="glyphicon glyphicon-font" aria-hidden="true"></span>
					        <span class="caret"></span>
					    </button>
					    <ul class="dropdown-menu">
					      	<table>
					      		<tr>
					      			<td><a href="#" onclick="setFontColor('#000000')"><div class="color-rect" style="background: #000000;"></div></a></td>
					      			<td><a href="#" onclick="setFontColor('#555555')"><div class="color-rect" style="background: #555555;"></div></a></td>
					      			<td><a href="#" onclick="setFontColor('#336699')"><div class="color-rect" style="background: #336699;"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      		</tr>
					      		<tr>
					      			<td><a href="#" onclick="setFontColor('#EE0000')"><div class="color-rect" style="background: #EE0000;"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      			<td><a><div class="color-rect"></div></a></td>
					      		</tr>
					      	</table>
					    </ul>
					</div>
				</div>
				<div class="btn-group btn-group-xs" role="group">
					<div class="btn-group btn-group-xs" role="group">
					    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					        <span class="glyphicon glyphicon-text-height" aria-hidden="true"></span>
					        <span class="caret"></span>
					    </button>
					    <ul class="dropdown-menu">
					      	<li><a href="#" onclick="setFontSize(1)"><font size="1">示例</font></a></li>
					      	<li><a href="#" onclick="setFontSize(2)"><font size="2">示例</font></a></li>
					      	<li><a href="#" onclick="setFontSize(3)"><font size="3">示例</font></a></li>
					      	<li><a href="#" onclick="setFontSize(4)"><font size="4">示例</font></a></li>
					      	<li><a href="#" onclick="setFontSize(5)"><font size="5">示例</font></a></li>
					      	<li><a href="#" onclick="setFontSize(6)"><font size="6">示例</font></a></li>
					      	<li><a href="#" onclick="setFontSize(7)"><font size="7">示例</font></a></li>
					    </ul>
					</div>
				</div>
			</div>
			<div class="btn-group btn-group-xs" role="group">
			    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-bold"></span></button>
			    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-italic"></spn></button>
			</div>
			<div class="btn-group btn-group-xs" role="group">
			    <button type="button" class="btn btn-default" onclick="insertImage()"><span class="glyphicon glyphicon-picture"></span></button>
			    <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-film"></spn></button>
			</div>
			
			<div class="btn-group btn-group-xs" role="group">
			    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			        <span class="glyphicon glyphicon-text-height" aria-hidden="true"></span>
			    </button>
			    <div class="dropdown-menu" style="width: 300px;">
			    	<div class="input-group" style="margin-left: 5px;margin-right: 5px;">
				      <input type="text" class="form-control" placeholder="http://..." id="img_path">
				      <span class="input-group-btn">
				        <button class="btn btn-default" type="button" onclick="insertImage(document.getElementById('img_path').value)">确定</button>
				      </span>
				    </div>
			    </div>
			</div>		
		</div>
		
		<div id="editor" class="editor"></div>
		
		<script src="bootstrap/js/jquery.min.js"></script>
		<script src="bootstrap/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="editor.js" type="text/javascript" charset="utf-8"></script>
		<script src="bootstrap/js/filesave.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			initEditor();
			//初始化
			function initEditor() {
				var editor = document.getElementById("editor"); 
				editor.contentEditable = true;
			}

			document.getElementById('editor').onmouseout = function() {
	            lastEditRange = saveSelection();
	        }
			
		</script>
	</body>

</html>